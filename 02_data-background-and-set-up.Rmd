# Data Background and Set Up

We'll be working with the Library Checkouts Database, a fictitious dataset about users checking out books from the library. For more detailed information on how it was put together, please refer to the GitHub repository [here](https://github.com/diversifyds/library-checkouts-db).

Although the data is fictious, the database supports enough scenarios for us to learn and practice SQL! 
<!-- *DataLab aims to expand this simulated dataset to a real-world data set based off UC Davis Shields Library.* -->

## SQLiteStudio

[SQLiteStudio](https://sqlitestudio.pl/about/) is a free, open source, multi-platform desktop application for browsing and editing SQLite database files.

### The SQLiteStudio Interface

![SQLiteStudio Interface](images/sqlitestudio-interface.png)

SQLiteStudio has a number of tools and panes to help you interact with your data. We can view databases (outlined in green) and also write and run queries (outlined in orange).  

### Load the SQL File

1. Click the "Open SQL editor" icon and a new pane will appear. [**1**]
2. Click the "Load SQL from file" icon and the file explorer window will pop up. [**2**]
3. Navigate to the `intro_to_sql_spring22.sql` file on your computer and double-click.

### Load the Database

1. Click the "Add a database" icon and the Database dialog window will pop up. [**3**]
2. Click the "Browse for existing database file on your local computer" icon and the file explorer window will pop up. 
3. Navigate to the  `lcdb.db` file on your computer and double-click. 
4. The Database dialog window will appear again and click the *OK* button.

## Entity Relationship Diagrams

Before we get started with SQL, let's cover what an Entity Relationship Diagram (ERD) is and why it's important. An ERD is simply a visual representation of a database. They help you understand what data is available, how data is stored, and how data is related with one another. Understanding your database means you can determine what types of questions you can answer with SQL!

Below is the Library Checkouts ERD:

![](images/library-checkouts-erd.png)

Lets break down the components of the ERD:

1.  *Entities* represent the tables in the database.
2.  *Attributes* represent the columns in the database.
    1.  *Data Types*: Each attribute is made up of a certain *data type*. The most common data types you'll interact with are numeric, string, date, or boolean.
    2.  *Primary Key (PK)*: This is a column(s) that uniquely identifies a row in a table.
    3.  *Foreign Key (FK)*: This is a column that references a primary key. Itâ€™s used to identify a relationship between tables.
3.  *Relationships* between tables are represented with lines connecting one entity to another
    1.  The symbols at the end of the lines represent *cardinality*, the number of rows between two database tables.

> **NOTE**:  
> Lucidchart does an excellent job of breaking down Entity Relationship Diagrams [here](https://www.lucidchart.com/pages/er-diagrams).

### Data Definitions

Below are the data definitions of the tables and columns in the Library Checkouts DB.

Table: **users**: All users that have an account with the library

| column | description | data type |
| :--- | :--- | :--- |
| id  | unique id of the user | integer |
| first_name | first name of the user | text |
| last_name | last name of the user | text |
| birth_date | birth date of the user | date |
| phone | cell phone of the user | text |
| email | email address of the user | text |
| address | address where the the user lives | text |
| city | city where the user lives | text |
| state | state where the user lives | text |
| zip_code | zip code where the user lives | integer |

Table: **checkouts**: A log of when a user checks out a book from the library

| column | description | data type |
| :--- | :--- | :--- |
| id  | unique id of the book checkout | integer |
| user_id | id of the user who checked out a book | integer |
| book_id | id of the book that was checked out | integer |
| checkout_date | date the book was checked out by the user | date |
| days\_checking\_out | number of days the user will checkout the book | integer |
| due_date | date the book is due based off days\_checking\_out | date |
| return_date | date the book was returned by the user | date |
| days\_checked\_out | number of days the book was checked out for | integer |
| returned\_with\_damage | a number to distinguish whether the book was returned with damage<br>0 = the book was not returned with damage<br>1 = the book was returned with damage | integer |

Table: **books**: All the books in the library inventory system

| column | description | data type |
| :--- | :--- | :--- |
| id  | unique id of the book | integer |
| title | title of the book | text |
| author | name of the author | text |
| isbn | isbn of the book | text |
| date_published | date the book was published | date |
| publisher | publisher of the book | text |
| format | the format of the book Ex) Hardcover | text |
| pages | the number of pages the book has | integer |

Table: **book\_genre\_link**: A table to link books with their respective genre(s)

| column | description | data type |
| :--- | :--- | :--- |
| book_id | id of the book | integer |
| genre_id | id of the genre | integer |

Table: **genres**: All the genres in the library system

| column | description | data type |
| :--- | :--- | :--- |
| id  | unique id of the genre | integer |
| name | name of the genre | text |
